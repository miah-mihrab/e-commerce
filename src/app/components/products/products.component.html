<style>
  /* Add a gray background color and some padding to the footer */
  footer {
    padding: 25px;
  }

</style>

<app-navbar></app-navbar>

<div class="container-fluid" style="min-height: 100vh;">
  <ng-container *ngIf="!products">
    <div
      style="display: flex; flex-direction: column; justify-content: center; align-items: center; width: 100%; height: 500px;">
      <p class="text-center text text-dark display-4">Fetching Products</p>
      <div>
        <div class="spinner-grow text-primary" role="status">
          <span class="sr-only">Loading...</span>
        </div>
        <div class="spinner-grow text-secondary" role="status">
          <span class="sr-only">Loading...</span>
        </div>
        <div class="spinner-grow text-success" role="status">
          <span class="sr-only">Loading...</span>
        </div>
        <div class="spinner-grow text-danger" role="status">
          <span class="sr-only">Loading...</span>
        </div>
        <div class="spinner-grow text-warning" role="status">
          <span class="sr-only">Loading...</span>
        </div>
        <div class="spinner-grow text-info" role="status">
          <span class="sr-only">Loading...</span>
        </div>
        <div class="spinner-grow text-light" role="status">
          <span class="sr-only">Loading...</span>
        </div>
        <div class="spinner-grow text-dark" role="status">
          <span class="sr-only">Loading...</span>
        </div>
      </div>
    </div>
  </ng-container>
  <div class="row" *ngIf="products">
    <div class="col-2 border border-left-0 border-top-0 border-bottom-0 p-4">
      <div class="row">
        <h5 class="col-12 text-center">Filter Products</h5>
        <div class="col-lg-12 col-md-12 p-1">
          <input type="text" class="form-control mt-4" placeholder="Search By Product Name" [(ngModel)]="productName"
            (input)="filterByName()">
        </div>

        <div class="col-lg-12 p-1">
          <span>Search Category</span><br>
          <input type="checkbox" id="watch" name="watch" (change)="filterByCategory($event)">
          <label for="watch">Watches</label><br>
          <input type="checkbox" id="fashion" name="fashion" (change)="filterByCategory($event)">
          <label for="fashion">Fashion</label><br>
        </div>
        <div class="col-lg-12  p-1">

          <span>Serach By Price</span><br>
          <input type="checkbox" name="10-20" (change)="filterByPrice($event)">
          <label for="watch">$(10 - 20)</label><br>
          <input type="checkbox" name="20-90" (change)="filterByPrice($event)">
          <label for="fashion">$(20 - 90)</label><br>

        </div>
      </div>
    </div>
    <div class="col-10">
      <div class="row">
        <ng-container *ngFor="let product of products; let i=index">
          <div class="col-lg-3 col-md-6 col-sm-12">
            <div class="card mt-2 ml-2">
              <img [src]="product['data']['imgUrl']" alt="Card image cap" width=200>
              <div class="card-body">

                <p class="title">{{ product['data']['Name'] }}</p>
                <p class="card-text text-small">
                  <small><span>Price: {{ product['data']['Price'] | currency }}</span><br></small>
                  <small><span>Comp: {{ product['data']['Company'] }}</span></small>

                </p>

                <button type="button" class="btn btn-sm btn-outline-primary" (click)="addItem(product['id'])">Add to
                  cart
                </button>
                <button type="button" class="btn btn-sm btn-outline-secondary float-right"
                  [routerLink]="['/product', product.id]">Details</button>
              </div>
            </div>
          </div>
        </ng-container>
      </div>

    </div>
  </div>
</div>


<footer class="container-fluid text-center bg bg-dark mt-3">
  <p class="display-4 text-center text-white">Subscribe to our Newsletter</p>
  <form class="form">
    <div class="input-group mb-3">
      <input type="email" class="form-control" placeholder="Subscription Email" aria-label="Recipient's username"
        aria-describedby="basic-addon2">
      <div class="input-group-append">
        <span class="input-group-text btn btn-danger" id="basic-addon2">Subscribe</span>
      </div>
    </div>
  </form>
</footer>
